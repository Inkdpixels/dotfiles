#!/usr/bin/env bash

#
# The global hook CLI.
#
# Author: Tyll Wei√ü <inkdpixels@gmail.com>
#
DOT_DIR="$HOME/.dotfiles"

#
# Include helper utils.
#
source $DOT_DIR/lib/utils/typography

#
# Print the general cli usage guide.
#
print_help() {
	echo "${underline}${bold}dotfiles CLI.${normal}${nounderline}

${underline}Available commands:${nounderline}
help		Prints the general CLI usage.
install		Installs all dependencies and optional tools.
self-update	Self-Updates the local .dotfiles repository.

Need help or got an issue? Report bugs at ${underline}https://github.com/Inkdpixels/dotfiles/issues${nounderline}."
}

install() {
	. "$DOT_DIR/lib/commands/install"
}
self-update() {
	. "$DOT_DIR/lib/commands/self-update"
}

#
# Do something depending on the passed arguments.
#
if [ $# -eq 0 ]
	then
		print_help

		exit 1
	else
		case "$1" in
			"--help" | "-h" | "help")
				print_help
				;;
			"install")
				install
				;;
			"self-update")
				self-update
				;;
			*)
				p_fail "Fatal Error: Unknown argument '$1'. For help regarding the dotfiles CLI execute 'dot help'."

				exit 1
				;;
		esac
fi

exit 0
